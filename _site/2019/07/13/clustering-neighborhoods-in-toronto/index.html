<!DOCTYPE html><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Clustering Neighborhoods in Toronto based on their locations using K-Means | SWC - Data Science</title><meta name="author" content="Sangwook Cheon"><meta name="description" content="N(one)-Stop Data Science"><meta property="og:title" content="Clustering Neighborhoods in Toronto based on their locations using K-Means | SWC - Data Science"><meta property="og:url" content="http://localhost:4000/2019/07/13/clustering-neighborhoods-in-toronto/"><meta property="og:site_name" content="SWC - Data Science"><meta property="og:description" content="Using K-Means Clustering, segment neighborhoods in Toronto based on their locations"><meta property="og:image" content="/images/vidar-nordli-mathisen-kcM_-FmnsVo-unsplash (1).jpg"><meta property="og:type" content="blog"><meta name="twitter:card" content="summary"><meta name="twitter:description" content="Using K-Means Clustering, segment neighborhoods in Toronto based on their locations"><meta name="twitter:title" content="Clustering Neighborhoods in Toronto based on their locations using K-Means | SWC - Data Science"><meta name="twitter:url" content="http://localhost:4000/2019/07/13/clustering-neighborhoods-in-toronto/"><meta name="twitter:site" content="SWC - Data Science"><meta name="twitter:creator" content="@"><meta name="twitter:domain" content="http://localhost:4000"><meta property="twitter:image" content="/images/vidar-nordli-mathisen-kcM_-FmnsVo-unsplash (1).jpg"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Lora|Space+Mono:700"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" href="/assets/css/main.css"><link rel="alternate" type="application/rss+xml" title="SWC - Data Science" href="http://localhost:4000/feed.xml"><link rel="canonical" href="http://localhost:4000/2019/07/13/clustering-neighborhoods-in-toronto/"></head><main><style media="screen"> #particles-js { background-image: url('/images/vidar-nordli-mathisen-kcM_-FmnsVo-unsplash (1).jpg'); background-color: $color-black; background-repeat: no-repeat; background-size: cover; background-position: 50%; animation: fade-in 3s both; position: absolute; top: 0; left: 0; height: 100%; width: 100%; background-size: cover; background-repeat: no-repeat; /* background-position: 50%; */ @media not all and (hover:hover) { height: var(--app-height); } @media (min-width: 30em) { height: 35em; } &:after { @extend %overlay; } &__img { animation: fade-in 2s both; } &__container { display: flex; flex-direction: column; justify-content: flex-end; height: 100%; width: 90%; margin: 0 auto; } } p { font-size: 1.114em; margin-bottom: 1.3em; } ol, ul { margin: 1em; padding: 0; font-size: 1.114em; } .centered { position: absolute; top: 17.5em; left: 5%; width: 80%; justify-content: flex-end; margin: 0 auto; flex-direction: column; /* transform: translate(-50%, -50%); */ } .bottom-left { position: absolute; top: 40%; left: 10%; } html { scroll-behavior: smooth; } mark { background-color: $color-alpha; color: $color-black; padding: 2px; border-radius: 5px; }</style><article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><header class="mast rellax" data-rellax-speed="-4"> <a class="nav nav--white" href="/"> <i class="fa fa-lg fa-arrow-left"></i> <span>Back to Posts</span> </a><div id='particles-js'></div><div class="mast__container"> <br> <span style="color:#ffffff"><time datetime="2019-07-13T00:00:00+07:00" itemprop="datePublished">Jul 13, 2019</time></span><h1 style="font-family: $font-header;color:#ffffff" itemprop="name headline">Clustering Neighborhoods in Toronto based on their locations using K-Means</h1><hr> <span style="color:#ffffff; font-size:1.114em;">Posted in <a class="nav--white" href="/category/learn-ds"><mark>Learn-DS</mark></a>, <a class="nav--white" href="/category/clustering"><mark>Clustering</mark></a> </span> <span></span> <br></div></header><section class="section-padding bg-grey" itemprop="articleBody"><div class="post"><p>See this <a href="https://nbviewer.jupyter.org/github/SangwookCheon/Counrsera_Capstone/blob/master/Segmenting-and-Clustering-Neighborhoods-in-Toronto.ipynb">Jupyter Notebook</a> to view all the code and outputs.</p><h1 id="introduction">Introduction</h1><p>Previous articles leading up to this post:</p><ol><li><a href="https://sangwookcheon.github.io/2019/07/12/web-scraping-using-beautiful-soup/p">Web-scraping a Wikipedia article using Beautiful Soup - Table</a></li><li><a href="https://sangwookcheon.github.io/2019/07/12/geopy-adding-latitude-longitude/">Adding Latitude and Longitude given a location using Geocoder library</a></li></ol><p>In this post I will use a cleaned dataset created from the previous two articles and cluster neighborhoods in Toronto based on their locations. I will use K-Means clustering, a popular unsupervised machine learning technique.</p><h1 id="setting-up-the-data">Setting up the data</h1><p>First step is to install all the libraries needed for this project:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span> <span class="c"># library to handle data in a vectorized manner</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span> <span class="c"># library for data analsysis</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">'display.max_columns'</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">'display.max_rows'</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">json</span> <span class="c"># library to handle JSON files</span>

<span class="c">#!conda install -c conda-forge geopy --yes # uncomment this line if you haven't completed the Foursquare API lab</span>
<span class="kn">from</span> <span class="nn">geopy.geocoders</span> <span class="kn">import</span> <span class="n">Nominatim</span> <span class="c"># convert an address into latitude and longitude values</span>

<span class="kn">import</span> <span class="nn">requests</span> <span class="c"># library to handle requests</span>
<span class="kn">from</span> <span class="nn">pandas.io.json</span> <span class="kn">import</span> <span class="n">json_normalize</span> <span class="c"># tranform JSON file into a pandas dataframe</span>

<span class="c"># Matplotlib and associated plotting modules</span>
<span class="kn">import</span> <span class="nn">matplotlib.cm</span> <span class="k">as</span> <span class="n">cm</span>
<span class="kn">import</span> <span class="nn">matplotlib.colors</span> <span class="k">as</span> <span class="n">colors</span>

<span class="c"># import k-means from clustering stage</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>

<span class="c">#!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab</span>
<span class="kn">import</span> <span class="nn">folium</span> <span class="c"># map rendering library</span>
</code></pre></div></div><p>In the previous articles, I scraped a Wikipedia page containing a table about Neighborhoods in Canada, processed the table, and added latitude/longitude coordinates for each Postal Code. Below is the table to work with:</p><p><img src="/in-post-images/Screen Shot 2019-07-13 at 11.45.23.png" alt="" /></p><p>I named this table <code class="highlighter-rouge">neighborhoods</code>. I decided to use data pertaining only to Toronto, so I now need to get rows with borough names that contain ‘Toronto’. To do this:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">neighborhoods</span><span class="p">)):</span>
    <span class="k">if</span> <span class="s">'Toronto'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">neighborhoods</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s">'Borough'</span><span class="p">]:</span>
        <span class="n">neighborhoods</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">neighborhood</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div><p>Now we have this new table: <img src="/in-post-images/Screen Shot 2019-07-13 at 16.11.20.png" alt="" /></p><p>There are 38 columns in total, and I used <code class="highlighter-rouge">reset_index</code> function reset the index to 1, 2, 3, … as the table was modified.</p><h2 id="quick-visualization">Quick Visualization</h2><p>Let’s start by visualizing where the different neighborhoods are in Toronto. After quick Google Search, it is found that the lat-long of Toronto is [43.6532, -79.3832].</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">latitude</span> <span class="o">=</span> <span class="mf">43.6532</span>
<span class="n">longitude</span> <span class="o">=</span> <span class="o">-</span><span class="mf">79.3832</span>

<span class="c"># create map of Toronto using latitude and longitude values</span>
<span class="n">map_toronto</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># add markers to map</span>
<span class="k">for</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">borough</span><span class="p">,</span> <span class="n">neighborhood</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Latitude'</span><span class="p">],</span> <span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Longitude'</span><span class="p">],</span> <span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Borough'</span><span class="p">],</span> <span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">]):</span>
    <span class="n">label</span> <span class="o">=</span> <span class="s">'{}, {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">neighborhood</span><span class="p">,</span> <span class="n">borough</span><span class="p">)</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">parse_html</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">CircleMarker</span><span class="p">(</span>
        <span class="p">[</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">],</span>
        <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">popup</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">fill_color</span><span class="o">=</span><span class="s">'#3186cc'</span><span class="p">,</span>
        <span class="n">fill_opacity</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
        <span class="n">parse_html</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">map_toronto</span><span class="p">)</span>

<span class="n">map_toronto</span>
</code></pre></div></div><p><img src="/in-post-images/Screen Shot 2019-07-13 at 16.38.16.png" alt="" /> <a href="">View Map</a></p><h1 id="exploring-one-neighborhood">Exploring one neighborhood</h1><p>Before going into clustering neighborhoods, let’s explore one neighborhood as a starter. <a href="https://developer.foursquare.com/">Foursquare API</a> will be used to explore top 10 venues around the first neighborhood in the table.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="s">'https://api.foursquare.com/v2/venues/explore?client_id={}&amp;client_secret={}&amp;ll={},{}&amp;v={}&amp;radius={}&amp;limit={}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">CLIENT_ID</span><span class="p">,</span> <span class="n">CLIENT_SECRET</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">,</span> <span class="n">VERSION</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">LIMIT</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="n">results</span>
</code></pre></div></div><p>This yields the following json file containing 10 search results (only two are shown to save space):</p><div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="err">'meta'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'code'</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="err">'requestId'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">5</span><span class="err">d</span><span class="mi">29e93</span><span class="err">b</span><span class="mi">6</span><span class="err">bdee</span><span class="mi">6002</span><span class="err">cda</span><span class="mi">5324</span><span class="err">'</span><span class="p">},</span><span class="w">
 </span><span class="err">'response'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'groups'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'items'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'reasons'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'count'</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
       </span><span class="err">'items'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'reasonName'</span><span class="p">:</span><span class="w"> </span><span class="err">'globalInteractionReason'</span><span class="p">,</span><span class="w">
         </span><span class="err">'summary'</span><span class="p">:</span><span class="w"> </span><span class="err">'This</span><span class="w"> </span><span class="err">spot</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">popular'</span><span class="p">,</span><span class="w">
         </span><span class="err">'type'</span><span class="p">:</span><span class="w"> </span><span class="err">'general'</span><span class="p">}]},</span><span class="w">
      </span><span class="err">'referralId'</span><span class="p">:</span><span class="w"> </span><span class="err">'e</span><span class="mi">-0-5227</span><span class="err">bb</span><span class="mi">01498e17</span><span class="err">bf</span><span class="mi">485e6202-0</span><span class="err">'</span><span class="p">,</span><span class="w">
      </span><span class="err">'venue'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'categories'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'icon'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'prefix'</span><span class="p">:</span><span class="w"> </span><span class="err">'https</span><span class="p">:</span><span class="err">//ss</span><span class="mf">3.4</span><span class="err">sqi.net/img/categories_v</span><span class="mi">2</span><span class="err">/parks_outdoors/neighborhood_'</span><span class="p">,</span><span class="w">
          </span><span class="err">'suffix'</span><span class="p">:</span><span class="w"> </span><span class="err">'.png'</span><span class="p">},</span><span class="w">
         </span><span class="err">'id'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">4</span><span class="err">f</span><span class="mi">2</span><span class="err">a</span><span class="mi">25</span><span class="err">ac</span><span class="mi">4</span><span class="err">b</span><span class="mi">909258e854</span><span class="err">f</span><span class="mi">55</span><span class="err">f'</span><span class="p">,</span><span class="w">
         </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'Neighborhood'</span><span class="p">,</span><span class="w">
         </span><span class="err">'pluralName'</span><span class="p">:</span><span class="w"> </span><span class="err">'Neighborhoods'</span><span class="p">,</span><span class="w">
         </span><span class="err">'primary'</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
         </span><span class="err">'shortName'</span><span class="p">:</span><span class="w"> </span><span class="err">'Neighborhood'</span><span class="p">}],</span><span class="w">
       </span><span class="err">'id'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">5227</span><span class="err">bb</span><span class="mi">01498e17</span><span class="err">bf</span><span class="mi">485e6202</span><span class="err">'</span><span class="p">,</span><span class="w">
       </span><span class="err">'location'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'cc'</span><span class="p">:</span><span class="w"> </span><span class="err">'CA'</span><span class="p">,</span><span class="w">
        </span><span class="err">'city'</span><span class="p">:</span><span class="w"> </span><span class="err">'Toronto'</span><span class="p">,</span><span class="w">
        </span><span class="err">'country'</span><span class="p">:</span><span class="w"> </span><span class="err">'Canada'</span><span class="p">,</span><span class="w">
        </span><span class="err">'distance'</span><span class="p">:</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w">
        </span><span class="err">'formattedAddress'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">'Toronto</span><span class="w"> </span><span class="err">ON'</span><span class="p">,</span><span class="w"> </span><span class="err">'Canada'</span><span class="p">],</span><span class="w">
        </span><span class="err">'labeledLatLngs'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'label'</span><span class="p">:</span><span class="w"> </span><span class="err">'display'</span><span class="p">,</span><span class="w">
          </span><span class="err">'lat'</span><span class="p">:</span><span class="w"> </span><span class="mf">43.65323167517444</span><span class="p">,</span><span class="w">
          </span><span class="err">'lng'</span><span class="p">:</span><span class="w"> </span><span class="mf">-79.38529600606677</span><span class="p">}],</span><span class="w">
        </span><span class="err">'lat'</span><span class="p">:</span><span class="w"> </span><span class="mf">43.65323167517444</span><span class="p">,</span><span class="w">
        </span><span class="err">'lng'</span><span class="p">:</span><span class="w"> </span><span class="mf">-79.38529600606677</span><span class="p">,</span><span class="w">
        </span><span class="err">'state'</span><span class="p">:</span><span class="w"> </span><span class="err">'ON'</span><span class="p">},</span><span class="w">
       </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'Downtown</span><span class="w"> </span><span class="err">Toronto'</span><span class="p">,</span><span class="w">
       </span><span class="err">'photos'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'count'</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">'groups'</span><span class="p">:</span><span class="w"> </span><span class="p">[]}}},</span><span class="w">
     </span><span class="p">{</span><span class="err">'reasons'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'count'</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
       </span><span class="err">'items'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'reasonName'</span><span class="p">:</span><span class="w"> </span><span class="err">'globalInteractionReason'</span><span class="p">,</span><span class="w">
         </span><span class="err">'summary'</span><span class="p">:</span><span class="w"> </span><span class="err">'This</span><span class="w"> </span><span class="err">spot</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">popular'</span><span class="p">,</span><span class="w">
         </span><span class="err">'type'</span><span class="p">:</span><span class="w"> </span><span class="err">'general'</span><span class="p">}]},</span><span class="w">
      </span><span class="err">'referralId'</span><span class="p">:</span><span class="w"> </span><span class="err">'e</span><span class="mi">-0-4</span><span class="err">ad</span><span class="mi">4</span><span class="err">c</span><span class="mi">05</span><span class="err">ef</span><span class="mi">964</span><span class="err">a</span><span class="mi">520</span><span class="err">a</span><span class="mi">6</span><span class="err">f</span><span class="mi">620e3-1</span><span class="err">'</span><span class="p">,</span><span class="w">
      </span><span class="err">'venue'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'categories'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'icon'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'prefix'</span><span class="p">:</span><span class="w"> </span><span class="err">'https</span><span class="p">:</span><span class="err">//ss</span><span class="mf">3.4</span><span class="err">sqi.net/img/categories_v</span><span class="mi">2</span><span class="err">/parks_outdoors/plaza_'</span><span class="p">,</span><span class="w">
          </span><span class="err">'suffix'</span><span class="p">:</span><span class="w"> </span><span class="err">'.png'</span><span class="p">},</span><span class="w">
         </span><span class="err">'id'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">4</span><span class="err">bf</span><span class="mi">58</span><span class="err">dd</span><span class="mi">8</span><span class="err">d</span><span class="mi">48988</span><span class="err">d</span><span class="mi">164941735</span><span class="err">'</span><span class="p">,</span><span class="w">
         </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'Plaza'</span><span class="p">,</span><span class="w">
         </span><span class="err">'pluralName'</span><span class="p">:</span><span class="w"> </span><span class="err">'Plazas'</span><span class="p">,</span><span class="w">
         </span><span class="err">'primary'</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
         </span><span class="err">'shortName'</span><span class="p">:</span><span class="w"> </span><span class="err">'Plaza'</span><span class="p">}],</span><span class="w">
       </span><span class="err">'id'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">4</span><span class="err">ad</span><span class="mi">4</span><span class="err">c</span><span class="mi">05</span><span class="err">ef</span><span class="mi">964</span><span class="err">a</span><span class="mi">520</span><span class="err">a</span><span class="mi">6</span><span class="err">f</span><span class="mi">620e3</span><span class="err">'</span><span class="p">,</span><span class="w">
       </span><span class="err">'location'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'address'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">100</span><span class="w"> </span><span class="err">Queen</span><span class="w"> </span><span class="err">St</span><span class="w"> </span><span class="err">W'</span><span class="p">,</span><span class="w">
        </span><span class="err">'cc'</span><span class="p">:</span><span class="w"> </span><span class="err">'CA'</span><span class="p">,</span><span class="w">
        </span><span class="err">'city'</span><span class="p">:</span><span class="w"> </span><span class="err">'Toronto'</span><span class="p">,</span><span class="w">
        </span><span class="err">'country'</span><span class="p">:</span><span class="w"> </span><span class="err">'Canada'</span><span class="p">,</span><span class="w">
        </span><span class="err">'crossStreet'</span><span class="p">:</span><span class="w"> </span><span class="err">'at</span><span class="w"> </span><span class="err">Bay</span><span class="w"> </span><span class="err">St'</span><span class="p">,</span><span class="w">
        </span><span class="err">'distance'</span><span class="p">:</span><span class="w"> </span><span class="mi">106</span><span class="p">,</span><span class="w">
        </span><span class="err">'formattedAddress'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">'</span><span class="mi">100</span><span class="w"> </span><span class="err">Queen</span><span class="w"> </span><span class="err">St</span><span class="w"> </span><span class="err">W</span><span class="w"> </span><span class="err">(at</span><span class="w"> </span><span class="err">Bay</span><span class="w"> </span><span class="err">St)'</span><span class="p">,</span><span class="w">
         </span><span class="err">'Toronto</span><span class="w"> </span><span class="err">ON</span><span class="w"> </span><span class="err">M</span><span class="mi">5</span><span class="err">H</span><span class="w"> </span><span class="mi">2</span><span class="err">N</span><span class="mi">1</span><span class="err">'</span><span class="p">,</span><span class="w">
         </span><span class="err">'Canada'</span><span class="p">],</span><span class="w">
        </span><span class="err">'labeledLatLngs'</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="err">'label'</span><span class="p">:</span><span class="w"> </span><span class="err">'display'</span><span class="p">,</span><span class="w">
          </span><span class="err">'lat'</span><span class="p">:</span><span class="w"> </span><span class="mf">43.65227047322295</span><span class="p">,</span><span class="w">
          </span><span class="err">'lng'</span><span class="p">:</span><span class="w"> </span><span class="mf">-79.38351631164551</span><span class="p">}],</span><span class="w">
        </span><span class="err">'lat'</span><span class="p">:</span><span class="w"> </span><span class="mf">43.65227047322295</span><span class="p">,</span><span class="w">
        </span><span class="err">'lng'</span><span class="p">:</span><span class="w"> </span><span class="mf">-79.38351631164551</span><span class="p">,</span><span class="w">
        </span><span class="err">'postalCode'</span><span class="p">:</span><span class="w"> </span><span class="err">'M</span><span class="mi">5</span><span class="err">H</span><span class="w"> </span><span class="mi">2</span><span class="err">N</span><span class="mi">1</span><span class="err">'</span><span class="p">,</span><span class="w">
        </span><span class="err">'state'</span><span class="p">:</span><span class="w"> </span><span class="err">'ON'</span><span class="p">},</span><span class="w">
       </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'Nathan</span><span class="w"> </span><span class="err">Phillips</span><span class="w"> </span><span class="err">Square'</span><span class="p">,</span><span class="w">
       </span><span class="err">'photos'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'count'</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">'groups'</span><span class="p">:</span><span class="w"> </span><span class="p">[]}}},</span><span class="w">
</span></code></pre></div></div><p>How can we convert this json file into a Pandas DataFrame? We need to first extract only the information we need, flatten the json file, and construct a table.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># function that extracts the category of the venue</span>
<span class="k">def</span> <span class="nf">get_category_type</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">categories_list</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s">'categories'</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">categories_list</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s">'venue.categories'</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">categories_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">categories_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span>

<span class="n">venues</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s">'response'</span><span class="p">][</span><span class="s">'groups'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'items'</span><span class="p">]</span>

<span class="n">nearby_venues</span> <span class="o">=</span> <span class="n">json_normalize</span><span class="p">(</span><span class="n">venues</span><span class="p">)</span> <span class="c"># flatten JSON</span>

<span class="c"># filter columns</span>
<span class="n">filtered_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'venue.name'</span><span class="p">,</span> <span class="s">'venue.categories'</span><span class="p">,</span> <span class="s">'venue.location.lat'</span><span class="p">,</span> <span class="s">'venue.location.lng'</span><span class="p">]</span>
<span class="n">nearby_venues</span> <span class="o">=</span><span class="n">nearby_venues</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">filtered_columns</span><span class="p">]</span>

<span class="c"># filter the category for each row</span>
<span class="n">nearby_venues</span><span class="p">[</span><span class="s">'venue.categories'</span><span class="p">]</span> <span class="o">=</span> <span class="n">nearby_venues</span><span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="n">get_category_type</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># clean columns</span>
<span class="n">nearby_venues</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"."</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">nearby_venues</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="n">nearby_venues</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div><p>All the information about each venue is stored in <code class="highlighter-rouge">items</code> section of the json.</p><p><img src="/in-post-images/Screen Shot 2019-07-13 at 22.33.33.png" alt="" /></p><h1 id="exploring-all-neighborhoods-in-toronto">Exploring All Neighborhoods in Toronto</h1><p>Now that one neighborhood is explored, let’s explore 10 venues for every neighborhood in Toronto.</p><p>Function below is used to repeat the process above for all 38 neighborhoods.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">getNearbyVenues</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">latitudes</span><span class="p">,</span> <span class="n">longitudes</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>

    <span class="n">venues_list</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">latitudes</span><span class="p">,</span> <span class="n">longitudes</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="c"># create the API request URL</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">'https://api.foursquare.com/v2/venues/explore?&amp;client_id={}&amp;client_secret={}&amp;v={}&amp;ll={},{}&amp;radius={}&amp;limit={}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">CLIENT_ID</span><span class="p">,</span>
            <span class="n">CLIENT_SECRET</span><span class="p">,</span>
            <span class="n">VERSION</span><span class="p">,</span>
            <span class="n">lat</span><span class="p">,</span>
            <span class="n">lng</span><span class="p">,</span>
            <span class="n">radius</span><span class="p">,</span>
            <span class="n">LIMIT</span><span class="p">)</span>

        <span class="c"># make the GET request</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s">"response"</span><span class="p">][</span><span class="s">'groups'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'items'</span><span class="p">]</span>

        <span class="c"># return only relevant information for each nearby venue</span>
        <span class="n">venues_list</span><span class="o">.</span><span class="n">append</span><span class="p">([(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">lat</span><span class="p">,</span>
            <span class="n">lng</span><span class="p">,</span>
            <span class="n">v</span><span class="p">[</span><span class="s">'venue'</span><span class="p">][</span><span class="s">'name'</span><span class="p">],</span>
            <span class="n">v</span><span class="p">[</span><span class="s">'venue'</span><span class="p">][</span><span class="s">'location'</span><span class="p">][</span><span class="s">'lat'</span><span class="p">],</span>
            <span class="n">v</span><span class="p">[</span><span class="s">'venue'</span><span class="p">][</span><span class="s">'location'</span><span class="p">][</span><span class="s">'lng'</span><span class="p">],</span>
            <span class="n">v</span><span class="p">[</span><span class="s">'venue'</span><span class="p">][</span><span class="s">'categories'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">])</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>

    <span class="n">nearby_venues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">item</span> <span class="k">for</span> <span class="n">venue_list</span> <span class="ow">in</span> <span class="n">venues_list</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">venue_list</span><span class="p">])</span>
    <span class="n">nearby_venues</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">,</span>
                  <span class="s">'Neighborhood Latitude'</span><span class="p">,</span>
                  <span class="s">'Neighborhood Longitude'</span><span class="p">,</span>
                  <span class="s">'Venue'</span><span class="p">,</span>
                  <span class="s">'Venue Latitude'</span><span class="p">,</span>
                  <span class="s">'Venue Longitude'</span><span class="p">,</span>
                  <span class="s">'Venue Category'</span><span class="p">]</span>

    <span class="k">return</span><span class="p">(</span><span class="n">nearby_venues</span><span class="p">)</span>

<span class="c">#Run the function to get venues for all 38 Neighborhoods</span>
<span class="n">toronto_venues</span> <span class="o">=</span> <span class="n">getNearbyVenues</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">],</span>
                                   <span class="n">latitudes</span><span class="o">=</span><span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Latitude'</span><span class="p">],</span>
                                   <span class="n">longitudes</span><span class="o">=</span><span class="n">neighborhoods</span><span class="p">[</span><span class="s">'Longitude'</span><span class="p">]</span>
                                  <span class="p">)</span>
</code></pre></div></div><p>To show the first five rows: <img src="/in-post-images/Screen Shot 2019-07-13 at 22.40.47.png" alt="" /></p><h3 id="one-hot-encoding">One-hot Encoding</h3><p>One-hot encoding is used to use Clustering on this data table. Now, let’s do this to the <code class="highlighter-rouge">toronto_vanues</code> table.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># one hot encoding</span>
<span class="n">toronto_onehot</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">toronto_venues</span><span class="p">[[</span><span class="s">'Venue Category'</span><span class="p">]],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">prefix_sep</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>

<span class="c"># add neighborhood column back to dataframe</span>
<span class="n">toronto_onehot</span><span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">]</span> <span class="o">=</span> <span class="n">toronto_venues</span><span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">]</span>

<span class="c"># move neighborhood column to the first column</span>
<span class="n">fixed_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">toronto_onehot</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">toronto_onehot</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">toronto_onehot</span> <span class="o">=</span> <span class="n">toronto_onehot</span><span class="p">[</span><span class="n">fixed_columns</span><span class="p">]</span>

<span class="n">toronto_onehot</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div><p><img src="/in-post-images/Screen Shot 2019-07-22 at 12.21.11.png" alt="" /></p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">toronto_grouped</span> <span class="o">=</span> <span class="n">toronto_onehot</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Neighborhood'</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">toronto_grouped</span>
</code></pre></div></div><p>This groups the table by ‘Neighborhood’ leaving a single row (instead of 10) for each neighborhood. We take the mean of frequency of each category.</p><p>Briefly analyzing the grouped table leads to this: It can be noticed that Toronto has a variety of restaurants with different styles, such as Greek, Eastern European, Sushi, Indian, American, etc. Cafe and Coffee Shop shows up often as one of the top 5 venues.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">return_most_common_venues</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">num_top_venues</span><span class="p">):</span>
    <span class="n">row_categories</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">row_categories_sorted</span> <span class="o">=</span> <span class="n">row_categories</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">row_categories_sorted</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">num_top_venues</span><span class="p">]</span>

<span class="n">num_top_venues</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">indicators</span> <span class="o">=</span> <span class="p">[</span><span class="s">'st'</span><span class="p">,</span> <span class="s">'nd'</span><span class="p">,</span> <span class="s">'rd'</span><span class="p">]</span>

<span class="c"># create columns according to number of top venues</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num_top_venues</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'{}{} Most Common Venue'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ind</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">indicators</span><span class="p">[</span><span class="n">ind</span><span class="p">]))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'{}th Most Common Venue'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ind</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="c"># create a new dataframe</span>
<span class="n">neighborhoods_venues_sorted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">neighborhoods_venues_sorted</span><span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">]</span> <span class="o">=</span> <span class="n">toronto_grouped</span><span class="p">[</span><span class="s">'Neighborhood'</span><span class="p">]</span>

<span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">toronto_grouped</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">neighborhoods_venues_sorted</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">return_most_common_venues</span><span class="p">(</span><span class="n">toronto_grouped</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="p">:],</span> <span class="n">num_top_venues</span><span class="p">)</span>

<span class="n">neighborhoods_venues_sorted</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div><p><img src="https://github.com/SangwookCheon/pictures/blob/master/Screen%20Shot%202019-07-22%20at%2012.26.46.png?raw=true" alt="" /></p><h1 id="clustering">Clustering</h1><p>Based on the <code class="highlighter-rouge">toronto_grouped</code> table, we can cluster neighborhoods according to their trending places. From this point, please check out the <a href="https://nbviewer.jupyter.org/github/SangwookCheon/Counrsera_Capstone/blob/master/Segmenting-and-Clustering-Neighborhoods-in-Toronto.ipynb">Jupyter Notebook</a> from <code class="highlighter-rouge">in [56]:</code>. Here, I analyze each of the 5 clusters to see if there is any distinguishable factor.</p><p>Thank you for reading this article! I will come back with an article that focuses on an issue that is entirely based on my personal interest :smile: I am currently working on Seoul’s public dataset on its air quality. Recently air pollution is becoming a more serious problem in South Korea, and unfortunately, this is not simply the problem of polluted air coming in from China. I will analyze relevant datasets provided by the government to see if there are any overlooked patterns.</p><div id="disqus_thread"></div><script> var disqus_config = function () { this.page.url = "http://localhost:4000/2019/07/13/clustering-neighborhoods-in-toronto/"; this.page.identifier = "/2019/07/13/clustering-neighborhoods-in-toronto"; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://sangwookcheon.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section><section class="profile"><div class="profile__card"><div class="profile__img"><figure class="absolute-bg" style="background-image: url('/images/SangwookCpic.png');"></figure></div><div class="profile__container"><p>My name is Sangwook Cheon, a high school student at Jakarta Intercultural School. After tinkering with various branches of technology, I discovered that I am most passionate about data. All kinds of data, from so well-known to absolutely obscure. I work with Python to extract and interact with numbers, texts, images, audio, and more to come soon.</p><ul class="profile__social"><li><a class="fa fa-lg fa-envelope-o" href="mailto:sangwookchn@gmail.com"></a></li><li><h3><a href="https://kaggle.com/sangwookchn">k</a></h3></li><li><a class="fa fa-lg fa-github" href="https://github.com/SangwookCheon" target="_blank"></a></li><li><a class="fa fa-lg fa-linkedin" href="https://www.linkedin.com/in/sangwookcheon/" target="_blank"></a></li><li><a class="fa fa-lg fa-medium" href="https://medium.com/@sangwookcheon" target="_blank"></a></li></ul></div></div></section></article><section class="next"> <a class="next__link" href="/2019/07/12/web-scraping-using-beautiful-soup/" style="background-image: url('/images/roman-romashov-GRxTDmbsJRM-unsplash (1).jpg');"><div class="next__container"> <span style="color:#ffffff;">Read Next</span><h3 style="color:#ffffff">Web-scraping a Wikipedia article using Beautiful Soup - Table</h3></div></a></section></main><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/rellax/1.0.0/rellax.min.js"></script> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script> <script src="//cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script> <script> particlesJS.load('particles-js', "/assets/js/particles.json", function() { console.log('callback - particles.js config loaded'); }); </script> <script type="text/javascript" src="/assets/js/app.js"></script></body></html>
